
# AI Instructions - HRMS Lite Project

## ğŸ“ Overview
Full-stack HRMS Lite app:
- **Backend**: Node.js + TypeScript + MongoDB (`backend/`)
- **Frontend**: React + TypeScript + Vite (`frontend/`)

## ğŸ”‘ Critical Rules (MANDATORY)

### General
- **No authentication** (single admin user)
- **No advanced HR features** (leave, payroll, roles, permissions)
- **Focus on employee & attendance management**

### TypeScript
- Strict mode enabled
- **Never use `any`**
- Use proper interfaces/types everywhere

### API Format
```json
{ "success": true, "data": {...} }
{ "success": false, "error": { "code": "...", "message": "..." } }
```

---

## ğŸ—ï¸ Backend (Controllers â†’ Services â†’ Repositories)

### Architecture
- **Controllers**: HTTP only, call services
- **Services**: Business logic, validations
- **Repositories**: Data access, raw MongoDB

### Change Checklist
- [ ] Update `controllers/routes.ts`
- [ ] Add controller method
- [ ] Add service method (business logic)
- [ ] Add repository method (if needed)
- [ ] Update DTOs in `models/`
- [ ] Add unit tests
- [ ] **Update `API_TESTS.md`**
- [ ] Run: `npm run lint && npm run build && npm test`

### Errors
Use `utils/errors.ts`: `AppError`, `ValidationError`, `NotFoundError`

---

## ğŸ¨ Frontend (Pages â†’ Components â†’ Services)

### Structure
- **Pages**: Route components (`src/pages/`)
- **Components**: Reusable (`src/components/`), page-specific (`src/pages/<Page>/components/`)
- **Services**: API calls
- **Types**: Global types (`src/types/`)

### Change Checklist
- [ ] Update routes in `src/App.tsx` or router file
- [ ] Create/update page in `src/pages/`
- [ ] Add service method
- [ ] Define types in `src/types/`
- [ ] Mobile-first responsive design

### Styling (Mobile-First)
```tsx
<div style={{ padding: 16 }}>
	{/* mobile styles */}
	<div style={{ '@media (min-width: 768px)': { padding: 32 } }}>
		{/* desktop styles */}
	</div>
</div>
```

---

## ğŸ”„ Full-Stack Feature Pattern

### Backend Files
```
src/models/Entity.ts
src/repositories/EntityRepository.ts
src/services/EntityService.ts
src/controllers/EntityController.ts
src/routes/entityRoutes.ts
API_TESTS.md
```

### Frontend Files
```
src/types/entity.types.ts
src/services/entityService.ts
src/pages/Entity/EntityList.tsx
src/App.tsx (routes)
```

---

## ğŸ“ Naming Conventions

### Backend
- Controllers/Services/Repos: `PascalCase.ts`
- Models: `PascalCase.ts`
- Tests: `*.test.ts`

### Frontend
- Components: `PascalCase.tsx`
- Services/Types: `camelCase.ts`
- Pages: `PascalCase.tsx`

---

## ğŸš€ Development

### Start
```bash
# Backend
cd backend && npm run dev

# Frontend
cd frontend && npm run dev
```

### Pre-commit
```bash
# Backend: npm run lint && npm run build && npm test
# Frontend: npm run lint && npm run build
```

---

## ğŸ“š References
- Backend: [API_TESTS.md](API_TESTS.md)
- Frontend: ../../frontend/README.md

---

## ğŸ¯ Golden Rules
1. **No authentication**
2. **No `any` type**
3. **Controllers â†’ Services â†’ Repositories**
4. **Mobile-first CSS**
5. **Write and validate tests for services**
6. **Environment variables only**

---

**February 2026**
